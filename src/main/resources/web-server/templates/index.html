<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head th:replace="header :: copy"></head>

<body>

<div class="container">
  <h2>Account Service</h2>

  <ul class="nav nav-tabs">
    <li class="active"><a id="AccTab" data-toggle="tab" href="#home">Accounts</a></li>
    <li><a id="AccSearchTab" data-toggle="tab" href="#menu1">Account # Search</a></li>
    <li><a id="NameSearchTab" data-toggle="tab" href="#menu2">Name Search</a></li>
  </ul>

  <div class="tab-content">
    <div id="home" class="tab-pane fade in active">
      <!-- <h3>Search</h3> -->
      <div style="height: 1cm">&nbsp;</div>
      <a id="SearchAccClick" href="#">Search</a>
      <div id="SearchDiv"></div> 
    </div>
    <div id="menu1" class="tab-pane fade">
      <!-- <h3>Fetch Account #123456789</h3> -->
      <div style="height: 1cm">&nbsp;</div>
	  <a id="AccNumClick" href="#">Fetch account details for 123456789</a>
	  <div id="AccNumDiv"></div> 
    </div>
    <div id="menu2" class="tab-pane fade">
      <!-- <h3>Fetch by Name</h3> -->
      <div style="height: 1cm">&nbsp;</div>
      <a id="OwnerClick" href="#">Fetch account details by owner name "Keri"</a>
       <div id="OwnerDiv"></div> 
    </div>
  </div>
</div>

<!-- 	<h1>Microservices Demo - Web Server</h1>
	<h3>Overview</h3>
	<ul>
		<li>Demo defines a simple web-application for accessing accounts
			data.</li>
		<li>All the account information is fetched via a RESTful
			interface to a Accounts microservice.</li>
	</ul>

	<h3>The Demo</h3>

	<ul class="openlist">
		<li>Eureka Dashboard: <a
			href="http://localhost:1111">http://localhost:1111</a></li>
		<li>Check applications registered: <a
			href="http://localhost:1111/eureka/apps/">http://localhost:1111/eureka/apps/</a></li>
		<li>Fetch account #123456789: <a th:href="@{/accounts/123456789}">/accounts/123456789</a></li>

		<li>Fetch by name: <a th:href="@{/accounts/owner/Keri}">/accounts/owner/Keri</a></li>

		<li>Account <a th:href="@{/accounts/search}">Search</a></li>
	</ul>
 	<h3>Spring Boot URLs</h3>
	<p>For those interested, Spring Boot provides RESTful URLs for
		interrogating your application (they return JSON format data):</p>

	<ul>
		<li><a th:href="@{/beans}">The beans</a></li>
		<li><a th:href="@{/env}">The environment</a></li>
		<li><a th:href="@{/dump}">Thread dump</a></li>
		<li><a th:href="@{/health}">Application health</a></li>
		<li><a th:href="@{/info}">Application information</a></li>
		<li><a th:href="@{/metrics}">Application metrics</a></li>
		<li><a th:href="@{/trace}">Request call trace</a></li>
	</ul> -->

	<div th:replace="footer :: copy"></div>

<script type="text/javascript">

$('#AccNumClick').click(function(e) {
  // prevent the default action when a nav button link is clicked
  e.preventDefault();

  // ajax query to retrieve the HTML view without refreshing the page.
  $.ajax({
    type: 'get',
    url: '/accounts/123456789',
    dataType: 'html',
    success: function (html) {
      // success callback -- replace the div's innerHTML with
      // the response from the server.
      $('#AccNumDiv').html(html);
    }
  });
});

$('#SearchAccClick').click(function(e) {
	  // prevent the default action when a nav button link is clicked
	  e.preventDefault();

	  // ajax query to retrieve the HTML view without refreshing the page.
	  $.ajax({
	    type: 'get',
	    url: '/accounts/search',
	    dataType: 'html',
	    success: function (html) {
	      // success callback -- replace the div's innerHTML with
	      // the response from the server.
	      $('#SearchDiv').html(html);
	    }
	  });
});

$('#OwnerClick').click(function(e) {
	  // prevent the default action when a nav button link is clicked
	  e.preventDefault();

	  // ajax query to retrieve the HTML view without refreshing the page.
	  $.ajax({
	    type: 'get',
	    url: '/accounts/owner/Keri',
	    dataType: 'html',
	    success: function (html) {
	      // success callback -- replace the div's innerHTML with
	      // the response from the server.
	      $('#OwnerDiv').html(html);
	    }
	  });
});


$('#AccTab').click(function(e) {

	  $('#AccNumDiv').html(" ");
      $('#OwnerDiv').html(" ");

});

$('#AccSearchTab').click(function(e) {

	  $('#SearchDiv').html(" ");
      $('#OwnerDiv').html(" ");
});


$('#NameSearchTab').click(function(e) {

	 $('#SearchDiv').html(" ");
	 $('#AccNumDiv').html(" ");
});

</script>


</body>
</html>
